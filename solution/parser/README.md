# Парсер


## Описание алгоритма

Была использована библиотека `python ply.lex`. С ее помощью по регулярным выражением производится парсинг кода.  
Результат в специальном формате `dot` файлом записывается в файл `output.dot`, а дальше форматируется в изображение `output.png` с помощью команды `dot -Tpng output.dot > output.png` - команда библиотеки [`Graphviz`](https://graphviz.org/).


## Описание AST дерева

1) `root` - корень `AST` дерева. Смежные - методы и операторы.  
2) `Method` - функция. Смежные - тип, имя, список параметров и тело функции.  
3) `Operator` - оператор. Смежные - тип, приоритет, ассоциативность, список параметров и тело оператора.  
4) `Type="x"` - тип, равный `x`.  
5) `Name="x"` - имя, равное `x`.
6) `Parameters list` - список параметров. Смежные - параметры.  
7) `Parameter` - параметр. Смежные - (тип и имя) или выражение.  
8) `Value` - значение. Смежные - дерево выражения.  
9) `Operator="x"` - оператор `x` из выражения. Смежные - левая и правая часть, соответствующая дереву выражений с двух сторон.  
10) `Number="x"` - число `x`.  
11) `String="x"` - строка `x`.  
12) `Brackets` - скобки. Смежная - дерево выражение под скобками.  
13) `Unary minus` - унарный минус. Смежная - выражение под унарным минусом.  
14) `Variable="x"` - переменная в выражении.  
15) `Method assignment` - метод в выражении. Смежные - имя и список параметров.  
16) `Body` - тело. Смежные - элементы тела функции.  
17) `Variable init` - инициализация переменных. Смежные - тип, имя и значение.  
18) `Return` - `return` дерево. Смежная - значение.  
19) `Variable assignment` - переименование переменной. Смежные - имя и новое значение.  
20) `If statement` - дерево `if`. Смежные - условие и тело.  
21) `Condition` - условие. Смежная - дерево, соответствующее выражению.  
22) `Else statement` - дерево `else`. Смежная - дерево, соответствующее выражению.  
23) `Priority="x"` - приоритет, равный `x`.  
24) `Associativity="x"` - ассоциативность, равная `x`.  
25) `For statement` - дерево `for`. Смежные - инициализация переменной, условие, переименование и тело.  


## Тестирование и результаты

Тесты находятся в папке `solution`.  
Результаты - `.png` изображения в папке `results`.


## Запуск

Для начала нужно установить библиотеки `ply` и `Graphviz`, а потом ввести следующие команды:  
`chmod +x run.sh`  
`./run.sh`

Тест нужно записать в файл `input.txt`.
